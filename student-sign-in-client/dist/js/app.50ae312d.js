(function(){"use strict";var t={3736:function(t,e,n){var d=n(9963),r=n(6252);const s={id:"app"};function u(t,e,n,d,u,a){const i=(0,r.up)("NewStudentForm"),l=(0,r.up)("NewStudentsTable"),o=(0,r.up)("NewStudentMessage");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r.Wm)(i,{onStudentAdded:a.newStudentAdded},null,8,["onStudentAdded"]),(0,r.Wm)(l,{students:u.students,onStudentArrivedOrLeft:a.studentArrivedOrLeft,onDeleteStudent:a.studentDelete},null,8,["students","onStudentArrivedOrLeft","onDeleteStudent"]),(0,r.Wm)(o,{student:u.mostRecentStudents},null,8,["student"])])}var a=n(3577);const i={key:0,class:"alert alert-danger"},l={class:"card add-student m-2 p-2"},o=(0,r._)("h4",{class:"card-title"},"Add new student",-1),c={class:"form-group"},p=(0,r._)("label",{for:"name"},"Name",-1),h={class:"form-group"},m=(0,r._)("label",{for:"starID"},"Star ID",-1);function f(t,e,n,s,u,f){return(0,r.wg)(),(0,r.iD)("div",null,[u.errors.length>0?((0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(u.errors,(t=>((0,r.wg)(),(0,r.iD)("li",null,(0,a.zw)(t),1)))),256))])])):(0,r.kq)("",!0),(0,r._)("div",l,[o,(0,r._)("div",c,[p,(0,r.wy)((0,r._)("input",{id:"name",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>u.newStudentName=t)},null,512),[[d.nr,u.newStudentName,void 0,{trim:!0}]])]),(0,r._)("div",h,[m,(0,r.wy)((0,r._)("input",{id:"starID",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>u.newStarID=t)},null,512),[[d.nr,u.newStarID,void 0,{trim:!0}]])]),(0,r._)("button",{class:"btn btn-primary",onClick:e[2]||(e[2]=(...t)=>f.addStudent&&f.addStudent(...t))},"Add")])])}n(7658);var S={name:"NewStudentForm",emits:["Student-added"],data(){return{newStudentName:"",newStarID:"",errors:[]}},methods:{addStudent(){if(this.errors=[],this.newStudentName||this.errors.push("Student name required"),this.newStarID||this.errors.push("Student starID required"),0==this.errors.length){let t={name:this.newStudentName,starID:this.newStarID,present:!1};this.$emit("Student-added",t),this.newStudentName="",this.newStarID=""}}}},A=n(3744);const v=(0,A.Z)(S,[["render",f]]);var w=v;const g={key:0},b={key:0,class:"alert alert-info"},D={key:1,class:"alert alert-success"};function _(t,e,n,d,s,u){return n.student.name?((0,r.wg)(),(0,r.iD)("div",g,[n.student.present?((0,r.wg)(),(0,r.iD)("div",b," Welcome, "+(0,a.zw)(n.student.name)+"! ",1)):((0,r.wg)(),(0,r.iD)("div",D," Goodbye, "+(0,a.zw)(n.student.name)+", see you later! ",1))])):(0,r.kq)("",!0)}var O={name:"NewStudentMessage",props:{student:Object}};const y=(0,A.Z)(O,[["render",_]]);var E=y;const L=t=>((0,r.dD)("data-v-2a780726"),t=t(),(0,r.Cn)(),t),T={class:"card student-list m-2 p-2"},I=L((()=>(0,r._)("h4",{class:"card-title"},"Student List",-1))),N={class:"edit-table-toggle form-check"},k=L((()=>(0,r._)("label",{for:"edit-table",class:"form-check-label"},"Edit Table",-1))),U={id:"student-table"},V={class:"table"},W=L((()=>(0,r._)("th",null,"Name",-1))),j=L((()=>(0,r._)("th",null,"StarID",-1))),C=L((()=>(0,r._)("th",null,"Present?",-1)));function H(t,e,n,s,u,a){const i=(0,r.up)("student-row");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",T,[I,(0,r._)("div",N,[(0,r.wy)((0,r._)("input",{id:"edit-table",type:"checkbox",class:"form-check-input","onUpdate:modelValue":e[0]||(e[0]=t=>u.editTable=t)},null,512),[[d.e8,u.editTable]]),k]),(0,r._)("div",U,[(0,r._)("table",V,[(0,r._)("tr",null,[W,j,C,(0,r.wy)((0,r._)("th",null,"Delete",512),[[d.F8,u.editTable]])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.students,(t=>((0,r.wg)(),(0,r.j4)(i,{key:t.starID,student:t,onStudentArrivedOrLeft:a.arrivedOrLeft,onDeleteStudent:a.deleteStudent,edit:u.editTable},null,8,["student","onStudentArrivedOrLeft","onDeleteStudent","edit"])))),128))])])])])}var q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADRElEQVR4nO2ZTU8TURSG78rfoUhroVDa6Rft0BZFlFExMdHIn0BAlA8VcanRlUZcqAtXbfg/kijYmWmlUORDUNhAfc1p00bpnbbGkw6LvsmTNHfeOdzndto0QYhWWmmFJbvXR67uDY98/TE8glrsDd/O/rx2WxMnLbvareyedguNsKvdzIiTlt3BG/gXmrYxLC6eQjL5DKlUDqkUmsQqUqmn9Lf/X4AGNW/jOMZTDoFmnjz+Iplc4xCAnQiOrJ72wg4EV1bP+GAHgiu5NgV2INgEziqwA8Em0O6HHQg2AUcAdiC4suYIwoqcI4iVdgUf23xIt/ste2WoQ126J1enyyfgDEFGzhnC53Y/1hfeo7B/AH10GisOv7RLpB2BYoe6a6/fFe+lGVZ9PoFzYchYcQaw/uY9yvl1dAT9zjS+OINVXVqja9QpZ33hXXGG1Xw2gXVXGDKWnH4UDg4qGypLGGPTSJ8LVnr0mtb+3DylsL+PJYcinU3wCXT0QobuCsEYm6naWEliBmlXqEitju4KSWcTfAKdEVihd4Shj05JNliAeW8OxrHHpnJt8hHSHWHLuQSfgDuKWuidvTAmZqWnLD35iVmk6ZTdteeyCeS7VNTDcEekj0rVyd+fg94ZqTsv36UyCnSraASjy1qisnl3pKFZ+W5OAU8fGsHojsIYn7UUyEzNI00CDc4TfAIx1MOgd2D8Qd1HqCQRrTsv74nxCWz0xFEL09NX/FZp9ENMXb1LrTmT4BPwJmCF6YnBvFt98r8KBWSm52FOWF17AsMTs5xL8An4EpBh9sRg3pOfPK0bPbEilp3Jh8h4Y9LZBJvAN6UfMj55VOlPicz9OZjeeKVHr2ntuMThzg6We1TpbIJPwH8eMgxvHPm3H6o370tUdWntuETu+cuSqMV8PoHABcjYCFxA2leSoJ/ImanHMJWEtEtklJLE4c535F68Kt5LM6z6fALBAVixERyAQY+TL45soN+yV4Y6y0ocptJfvLdWl01gMzQAOxBsAuGLsAPBJtA7CDsQXNnqvQQ7EGwCkcuwA8EmEB2CHQg2AfVydksdQjPZjA7x/R9tS9W0bVXLbvdpaAqqltnquzLEJtBKK62IE5vfcDOVrSezq5EAAAAASUVORK5CYII=";const x=["checked"];function Y(t,e,n,s,u,i){return(0,r.wg)(),(0,r.iD)("tr",{class:(0,a.C_)({present:n.student.present,absent:!n.student.present})},[(0,r._)("td",null,(0,a.zw)(n.student.name),1),(0,r._)("td",null,(0,a.zw)(n.student.starID),1),(0,r._)("td",null,[(0,r._)("input",{type:"checkbox",checked:n.student.present,onChange:e[0]||(e[0]=t=>i.arrivedOrLeft(n.student,t.target.checked))},null,40,x)]),(0,r.wy)((0,r._)("td",null,[(0,r._)("img",{onClick:e[1]||(e[1]=(...t)=>i.deleteStudent&&i.deleteStudent(...t)),src:q})],512),[[d.F8,n.edit]])],2)}var Z={name:"StudentRow",props:{student:Object,edit:Boolean},methods:{arrivedOrLeft(t,e){this.$emit("student-arrived-or-left",t,e)},deleteStudent(){confirm(`Delete ${this.student.name}?`)&&this.$emit("Delete-Student",this.student)}}};const B=(0,A.Z)(Z,[["render",Y],["__scopeId","data-v-670e69fe"]]);var F=B,z={name:"NewStudentsTable",components:{StudentRow:F},emits:["student-arrived-or-left","Delete-Student"],props:{students:Array},data(){return{editTable:!1}},methods:{arrivedOrLeft(t,e){this.$emit("student-arrived-or-left",t,e)},deleteStudent(t){this.$emit("Delete-Student",t)}}};const Q=(0,A.Z)(z,[["render",H],["__scopeId","data-v-2a780726"]]);var R=Q,G={name:"App",components:{NewStudentForm:w,NewStudentMessage:E,NewStudentsTable:R},data(){return{students:[],mostRecentStudents:{}}},mounted(){this.updateStudents()},methods:{updateStudents(){this.$student_api.getAllStudents().then((t=>{this.students=t})).catch((()=>{alert("Unable to fetch students list")}))},newStudentAdded(t){this.$student_api.addStudent(t).then((()=>{this.updateStudents()})).catch((t=>{let e=t.response.data.join("\n");alert("Error Adding Student\n"+e)}))},studentArrivedOrLeft(t,e){t.present=e,this.$student_api.updateStudents(t).then((()=>{this.mostRecentStudents=t,this.updateStudents()})).catch((()=>{alert("Unable to update student")}))},studentDelete(t){this.$student_api.deleteStudent(t.id).then((()=>{this.updateStudents(),this.mostRecentStudents={}})).catch((()=>{alert("Unable to delete student")}))}}};const X=(0,A.Z)(G,[["render",u]]);var J=X,K=n(6154);let M="/api/students";var P={getAllStudents(){return K.Z.get(M).then((t=>t.data))},addStudent(t){return K.Z.post(M,t).then((t=>t.data))},updateStudents(t){return K.Z.patch(`${M}/${t.id}`,t).then((t=>{t.data}))},deleteStudent(t){return K.Z.delete(`${M}/${t}`).then((t=>t.data))}};let $=(0,d.ri)(J);$.config.globalProperties.$student_api=P,$.mount("#app")}},e={};function n(d){var r=e[d];if(void 0!==r)return r.exports;var s=e[d]={exports:{}};return t[d].call(s.exports,s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,d,r,s){if(!d){var u=1/0;for(o=0;o<t.length;o++){d=t[o][0],r=t[o][1],s=t[o][2];for(var a=!0,i=0;i<d.length;i++)(!1&s||u>=s)&&Object.keys(n.O).every((function(t){return n.O[t](d[i])}))?d.splice(i--,1):(a=!1,s<u&&(u=s));if(a){t.splice(o--,1);var l=r();void 0!==l&&(e=l)}}return e}s=s||0;for(var o=t.length;o>0&&t[o-1][2]>s;o--)t[o]=t[o-1];t[o]=[d,r,s]}}(),function(){n.d=function(t,e){for(var d in e)n.o(e,d)&&!n.o(t,d)&&Object.defineProperty(t,d,{enumerable:!0,get:e[d]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,d){var r,s,u=d[0],a=d[1],i=d[2],l=0;if(u.some((function(e){return 0!==t[e]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(i)var o=i(n)}for(e&&e(d);l<u.length;l++)s=u[l],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(o)},d=self["webpackChunkstudent_sign_in_vue"]=self["webpackChunkstudent_sign_in_vue"]||[];d.forEach(e.bind(null,0)),d.push=e.bind(null,d.push.bind(d))}();var d=n.O(void 0,[998],(function(){return n(3736)}));d=n.O(d)})();
//# sourceMappingURL=app.50ae312d.js.map